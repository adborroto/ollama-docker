# `ollama`-docker

A Docker image for running `Ollama`, an open-source framework for running large language models locally.

## Features

- Easy deployment of `Ollama` in a containerized environment
- Support for various LLM models
- FastAPI integration for API access
- Python-based client interactions

## Prerequisites

- Docker installed on your system
- Basic understanding of Docker commands
- At least 8GB RAM recommended for running models

## Run image

To build the Docker image, use the following command:

```bash
docker build --build-arg MODEL_NAME=llama2 -t your-image-name .
```

By default uses the `deepseek-r1:1.5b`

## API Endpoints

### api/generate

- **Method:** `POST`
- **Description:** This endpoint generates a response based on the provided prompt. It utilizes the specified language model to process the input and return a generated text response.
- **Request Body:**
  - **Content-Type:** `application/json`
  - **Schema:**
    ```json
    {
      "prompt": "string"
    }
    ```
  - **Details:** The `prompt` field should contain the text input for which you want the model to generate a response. Ensure that the prompt is a valid string.
- **Headers:**
  - `X-API-KEY` (optional): This is an optional header used for authentication. If provided, it must match the API key set in the environment. If the API key is not provided or is invalid, a `401 Unauthorized` response will be returned.
- **Response:**
  - **200 OK**: Indicates that the request was successful and the model has generated a response.
    ```json
    {
      "generated_text": "string",
      "model": "<MODEL_NAME>",
      "elapsed_time": "number"
    }
    ```
    - **generated_text**: The text generated by the model based on the input prompt.
    - **model**: The name of the model used for generating the response.
    - **elapsed_time**: The time taken to generate the response, measured in seconds.
  - **401 Unauthorized**: Returned when the API key is invalid or missing.
    ```json
    {
      "detail": "Invalid or missing API key"
    }
    ```
  - **500 Internal Server Error**: Indicates that an unexpected error occurred while processing the request.
    ```json
    {
      "detail": "string"
    }
    ```
